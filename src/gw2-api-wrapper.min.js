(function(){window.GW2API=function(){function c(){this.worldNames=this.mapNames=this.eventNames=this.objectiveNames=this.items=this.recipes=this.colors=this.wvwMatches=this.gameBuild=this.continents=this.maps=this.assets=null;this.mapFloors=this.mapDetails={}}c.prototype.getEvents=function(a,b,d){var e;null==a&&(a=1001);null==b&&(b=0);null==d&&(d=0);e=null;$.ajax({url:"https://api.guildwars2.com/v1/events.json",type:"get",dataType:"json",async:!1,data:{world_id:a,map_id:b,event_id:d}}).done(function(a){return e=
    a.events});return e};c.prototype.checkValidLanguage=function(a){return-1<this.getValidLanguages().indexOf(a)};c.prototype.getValidLanguages=function(){return["en","fr","de","es"]};c.prototype.getWorldNames=function(a){var b;null==a&&(a="en");return this.checkValidLanguage(a)?(this.worldNames||(b=this,$.ajax({url:"https://api.guildwars2.com/v1/world_names.json",type:"get",dataType:"json",async:!1,data:{lang:a}}).done(function(a){return b.worldNames=a})),this.worldNames):!1};c.prototype.getWorldName=
    function(a,b){var d,e,f,c;null==b&&(b="en");if(this.checkValidLanguage(b))for(a=a.toString(),c=this.getWorldNames(b),e=0,f=c.length;e<f;e++)if(d=c[e],d.id===a)return d.name;return!1};c.prototype.getMapNames=function(a){var b;null==a&&(a="en");return this.checkValidLanguage(a)?(this.mapNames||(b=this,$.ajax({url:"https://api.guildwars2.com/v1/map_names.json",type:"get",dataType:"json",async:!1,data:{lang:a}}).done(function(a){return b.mapNames=a})),this.mapNames):!1};c.prototype.getMapName=function(a,
    b){var d,e,c,g;null==b&&(b="en");if(this.checkValidLanguage(b))for(a=a.toString(),g=this.getMapNames(b),e=0,c=g.length;e<c;e++)if(d=g[e],d.id===a)return d.name;return!1};c.prototype.getEventNames=function(a){var b;null==a&&(a="en");return this.checkValidLanguage(a)?(this.eventNames||(b=this,$.ajax({url:"https://api.guildwars2.com/v1/event_names.json",type:"get",dataType:"json",async:!1,data:{lang:a}}).done(function(a){return b.eventNames=a})),this.eventNames):!1};c.prototype.getEventName=function(a,
    b){var d,e,c,g;null==b&&(b="en");if(this.checkValidLanguage(b))for(g=this.getEventNames(b),e=0,c=g.length;e<c;e++)if(d=g[e],d.id===a)return d.name;return!1};c.prototype.getWvwMatches=function(){var a;if(!this.wvwMatches)return a=this,$.ajax({url:"https://api.guildwars2.com/v1/wvw/matches.json",type:"get",dataType:"json",async:!1}).done(function(b){console.log(b);return a.wvwMatches=b.wvw_matches}),this.wvwMatches};c.prototype.getObjectiveNames=function(a){var b;null==a&&(a="en");return this.checkValidLanguage(a)?
    (this.objectiveNames||(b=this,$.ajax({url:"https://api.guildwars2.com/v1/wvw/objective_names.json",type:"get",dataType:"json",async:!1,data:{lang:a}}).done(function(a){return b.objectiveNames=a})),this.objectiveNames):!1};c.prototype.getObjectiveName=function(a,b){var d,e,c,g;null==b&&(b="en");if(this.checkValidLanguage(b))for(a=a.toString(),g=this.getObjectiveNames(b),e=0,c=g.length;e<c;e++)if(d=g[e],d.id===a)return d.name;return!1};c.prototype.getMatchDetails=function(a){var b;b=null;$.ajax({url:"https://api.guildwars2.com/v1/wvw/match_details.json",
    type:"get",dataType:"json",async:!1,data:{match_id:a}}).done(function(a){return b=a});return b};c.prototype.getItems=function(){var a;this.items||(a=this,$.ajax({url:"https://api.guildwars2.com/v1/items.json",type:"get",dataType:"json",async:!1}).done(function(b){return a.items=b.items}));return this.items};c.prototype.getItemDetails=function(a,b){var d;null==b&&(b="en");return this.checkValidLanguage(b)?(d=null,$.ajax({url:"https://api.guildwars2.com/v1/item_details.json",type:"get",dataType:"json",
    async:!1,data:{item_id:a,lang:b}}).done(function(a){return d=a}),d):!1};c.prototype.getRecipes=function(){var a;this.recipes||(a=this,$.ajax({url:"https://api.guildwars2.com/v1/recipes.json",type:"get",dataType:"json",async:!1}).done(function(b){return a.recipes=b.recipes}));return this.recipes};c.prototype.getRecipeDetails=function(a,b){var d;null==b&&(b="en");return this.checkValidLanguage(b)?(d=null,$.ajax({url:"https://api.guildwars2.com/v1/recipe_details.json",type:"get",dataType:"json",async:!1,
    data:{recipe_id:a,lang:b}}).done(function(a){return d=a}),d):!1};c.prototype.getBuildID=function(){var a;this.gameBuild||(a=this,$.ajax({url:"https://api.guildwars2.com/v1/build.json",type:"get",dataType:"json",async:!1}).done(function(b){return a.gameBuild=b.build_id}));return this.gameBuild};c.prototype.getGuildDetails=function(a,b){var d,c;null==a&&(a=null);null==b&&(b=null);c=d=null;!a&&b&&(c={guild_id:b});!b&&a&&(c={guild_name:a});if(!c)return!1;$.ajax({url:"https://api.guildwars2.com/v1/guild_details.json",
    type:"get",dataType:"json",async:!1,data:c}).done(function(a){return d=a});return d};c.prototype.getColors=function(a){var b;null==a&&(a="en");return this.checkValidLanguage(a)?(this.colors||(b=this,$.ajax({url:"https://api.guildwars2.com/v1/colors.json",type:"get",dataType:"json",async:!1,data:{lang:a}}).done(function(a){return b.colors=a.colors})),this.colors):!1};c.prototype.getColorOnMaterial=function(a,b,d){var c,f,g,h;null==d&&(d="en");if(-1<["cloth","leather","metal"].indexOf(b)&&this.checkValidLanguage(d)){a=
    this.getColors(d)[a];c=a[b].brightness/128;f=a[b].contrast;g=3.141592653589793*a[b].hue/180;d=a[b].saturation;h=a[b].lightness;b=Matrix.I(4);if(0!==c||1!==f)c=128*(2*c+1-f),f=$M([[f,0,0,c],[0,f,0,c],[0,0,f,c],[0,0,0,1]]),b=f.x(b);if(0!==g||1!==d||1!==h)f=$M([[0.707107,0,-0.707107,0],[-0.408248,0.816497,-0.408248,0],[0.57735,0.57735,0.57735,0],[0,0,0,1]]),b=f.x(b),f=Math.cos(g),g=Math.sin(g),f=$M([[f*d,g*d,0,0],[-g*d,f*d,0,0],[0,0,h,0],[0,0,0,1]]),b=f.x(b),d=$M([[0.707107,-0.408248,0.57735,0],[0,0.816497,
    0.57735,0],[-0.707107,-0.408248,0.57735,0],[0,0,0,1]]),b=d.x(b);a=$V([a.base_rgb[2],a.base_rgb[1],a.base_rgb[0],1]);a=b.x(a);a=[a.elements[2],a.elements[1],a.elements[0]];a[0]=Math.floor(Math.max(0,Math.min(255,a[0])));a[1]=Math.floor(Math.max(0,Math.min(255,a[1])));a[2]=Math.floor(Math.max(0,Math.min(255,a[2])));return a}return!1};c.prototype.getAssetURL=function(a,b,c){null==c&&(c="png");return-1<["png","jpg"].indexOf(c)?"https://render.guildwars2.com/file/"+a+"/"+b+"."+c:!1};c.prototype.getAssets=
    function(){var a;this.assets||(a=this,$.ajax({url:"https://api.guildwars2.com/v1/files.json",type:"get",dataType:"json",async:!1}).done(function(b){return a.assets=b}));return this.assets};c.prototype.getAsset=function(a){return this.getAssets()[a]};c.prototype.getContinents=function(){var a;this.continents||(a=this,$.ajax({url:"https://api.guildwars2.com/v1/continents.json",type:"get",dataType:"json",async:!1}).done(function(b){return a.continents=b.continents}));return this.continents};c.prototype.getContinent=
    function(a){return a?this.getContinents()[a]:!1};c.prototype.getMaps=function(a){var b;null==a&&(a="en");return this.checkValidLanguage(a)?(this.maps||(b=this,$.ajax({url:"https://api.guildwars2.com/v1/maps.json",type:"get",dataType:"json",async:!1,data:{lang:a}}).done(function(a){return b.maps=a.maps})),this.maps):!1};c.prototype.getMap=function(a,b){null==b&&(b="en");return this.checkValidLanguage(b)&&a?this.getMaps(b)[a]:!1};c.prototype.getMapFloor=function(a,b,c){var e,f;null==c&&(c="en");return this.checkValidLanguage(c)&&
    a&&b?(e=a+","+b,this.mapFloors&&this.mapFloors[e]||(f=this,$.ajax({url:"https://api.guildwars2.com/v1/map_floor.json",type:"get",dataType:"json",async:!1,data:{continent_id:a,floor:b,lang:c}}).done(function(a){return f.mapFloors[e]=a})),this.mapFloors[e]):!1};c.prototype.getTileURL=function(a,b,c,e,f){return"https://tiles.guildwars2.com/"+a+"/"+b+"/"+c+"/"+e+"/"+f+".jpg"};c.prototype.getAllEventDetails=function(a){var b;null==a&&(a="en");return this.checkValidLanguage(a)?(this.eventDetails||(b=this,
    $.ajax({url:"https://api.guildwars2.com/v1/event_details.json",type:"get",dataType:"json",async:!1,data:{lang:a}}).done(function(a){return b.eventDetails=a.events})),this.eventDetails):!1};c.prototype.getEventDetails=function(a,b){null==b&&(b="en");return this.checkValidLanguage(b)?this.getAllEventDetails(b)[a]:!1};return c}()}).call(this);