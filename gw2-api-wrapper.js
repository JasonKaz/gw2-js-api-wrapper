// Generated by CoffeeScript 1.6.2
var checkValidLanguage, eventNames, getEventName, getEventNames, getEvents, getItemDetails, getItems, getMapName, getMapNames, getMatchDetails, getObjectiveName, getObjectiveNames, getRecipeDetails, getRecipes, getWorldName, getWorldNames, getWvwMatches, items, mapNames, objectiveNames, recipes, worldNames, wvwMatches;

worldNames = mapNames = eventNames = objectiveNames = items = recipes = [];

wvwMatches = null;

getEvents = function(worldID, mapID, eventID) {
  var data;

  if (worldID == null) {
    worldID = 1001;
  }
  if (mapID == null) {
    mapID = 0;
  }
  if (eventID == null) {
    eventID = 0;
  }
  data = {};
  $.ajax({
    url: "https://api.guildwars2.com/v1/events.json",
    type: "get",
    dataType: "json",
    async: false,
    data: {
      world_id: worldID,
      map_id: mapID,
      event_id: eventID
    }
  }).done(function(d) {
    return data = d;
  });
  return data;
};

checkValidLanguage = function(language) {
  return ["en", "fr", "de", "es"].indexOf(language) > -1;
};

getWorldNames = function(language) {
  if (language == null) {
    language = "en";
  }
  if (checkValidLanguage(language)) {
    if (!worldNames.length) {
      $.ajax({
        url: "https://api.guildwars2.com/v1/world_names.json",
        type: "get",
        dataType: "json",
        async: false,
        data: {
          lang: language
        }
      }).done(function(d) {
        return worldNames = d;
      });
    }
    return worldNames;
  }
  return false;
};

getWorldName = function(worldID, language) {
  var i, _i, _len, _ref;

  if (language == null) {
    language = "en";
  }
  if (checkValidLanguage(language)) {
    worldID = worldID.toString();
    _ref = getWorldNames(language);
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      i = _ref[_i];
      if (i.id === worldID) {
        return i.name;
      }
    }
    return false;
  }
  return false;
};

getMapNames = function(language) {
  if (language == null) {
    language = "en";
  }
  if (checkValidLanguage(language)) {
    if (!mapNames.length) {
      $.ajax({
        url: "https://api.guildwars2.com/v1/map_names.json",
        type: "get",
        dataType: "json",
        async: false,
        data: {
          lang: language
        }
      }).done(function(d) {
        return mapNames = d;
      });
    }
    return mapNames;
  }
};

false;

getMapName = function(mapID, language) {
  var i, _i, _len, _ref;

  if (language == null) {
    language = "en";
  }
  if (checkValidLanguage(language)) {
    mapID = mapID.toString();
    _ref = getMapNames(language);
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      i = _ref[_i];
      if (i.id === mapID) {
        return i.name;
      }
    }
    return false;
  }
  return false;
};

getEventNames = function(language) {
  if (language == null) {
    language = "en";
  }
  if (checkValidLanguage(language)) {
    if (!eventNames.length) {
      $.ajax({
        url: "https://api.guildwars2.com/v1/event_names.json",
        type: "get",
        dataType: "json",
        async: false,
        data: {
          lang: language
        }
      }).done(function(d) {
        return eventNames = d;
      });
    }
    return eventNames;
  }
};

false;

getEventName = function(eventID, language) {
  var i, _i, _len, _ref;

  if (language == null) {
    language = "en";
  }
  if (checkValidLanguage(language)) {
    _ref = getEventNames(language);
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      i = _ref[_i];
      if (i.id === eventID) {
        return i.name;
      }
    }
    return false;
  }
  return false;
};

getWvwMatches = function() {
  if (!wvwMatches) {
    $.ajax({
      url: "https://api.guildwars2.com/v1/wvw/matches.json",
      type: "get",
      dataType: "json",
      async: false
    }).done(function(d) {
      return wvwMatches = d;
    });
    return wvwMatches.wvw_matches;
  }
};

getObjectiveNames = function(language) {
  if (language == null) {
    language = "en";
  }
  if (checkValidLanguage(language)) {
    if (!objectiveNames.length) {
      $.ajax({
        url: "https://api.guildwars2.com/v1/wvw/objective_names.json",
        type: "get",
        dataType: "json",
        async: false,
        data: {
          lang: language
        }
      }).done(function(d) {
        return objectiveNames = d;
      });
    }
    return objectiveNames;
  }
  return false;
};

getObjectiveName = function(objectiveID, language) {
  var i, _i, _len, _ref;

  if (language == null) {
    language = "en";
  }
  if (checkValidLanguage(language)) {
    objectiveID = objectiveID.toString();
    _ref = getObjectiveNames(language);
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      i = _ref[_i];
      if (i.id === objectiveID) {
        return i.name;
      }
    }
    return false;
  }
  return false;
};

getMatchDetails = function(matchID) {
  var data;

  data = null;
  $.ajax({
    url: "https://api.guildwars2.com/v1/wvw/match_details.json",
    type: "get",
    dataType: "json",
    async: false,
    data: {
      match_id: matchID
    }
  }).done(function(d) {
    return data = d;
  });
  return data;
};

getItems = function() {
  if (!items.length) {
    $.ajax({
      url: "https://api.guildwars2.com/v1/items.json",
      type: "get",
      dataType: "json",
      async: false
    }).done(function(d) {
      return items = d;
    });
  }
  return items;
};

getItemDetails = function(itemID, language) {
  var data;

  if (language == null) {
    language = "en";
  }
  data = null;
  $.ajax({
    url: "https://api.guildwars2.com/v1/item_details.json",
    type: "get",
    dataType: "json",
    async: false,
    data: {
      item_id: itemID,
      lang: language
    }
  }).done(function(d) {
    return data = d;
  });
  return data;
};

getRecipes = function() {
  if (!recipes.length) {
    $.ajax({
      url: "https://api.guildwars2.com/v1/recipes.json",
      type: "get",
      dataType: "json",
      async: false
    }).done(function(d) {
      return recipes = d;
    });
  }
  return recipes;
};

getRecipeDetails = function(recipeID) {
  var data;

  data = null;
  $.ajax({
    url: "https://api.guildwars2.com/v1/recipe_details.json",
    type: "get",
    dataType: "json",
    async: false,
    data: {
      recipe_id: recipeID
    }
  }).done(function(d) {
    return data = d;
  });
  return data;
};
